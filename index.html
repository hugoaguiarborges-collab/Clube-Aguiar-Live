<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Melhores Desempenhos Aguiar 40+</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;800&display=swap" rel="stylesheet">
  <style>
    body{background:#061b30;color:#e6efff;font-family:Poppins,Arial,sans-serif;margin:0;}
    h1{text-align:center;color:#ffd700;font-size:2.5rem;}
    .ranking-box{max-width:900px;margin:50px auto;}
    .cards{display:flex;justify-content:center;gap:32px;margin-bottom:30px;}
    .card{background:rgba(255,255,255,0.07);border-radius:18px;padding:32px 26px;min-width:220px;min-height:190px;box-shadow:0 6px 16px rgba(0,0,0,.13);display:flex;flex-direction:column;align-items:center;position:relative;}
    .medal{position:absolute;top:16px;right:16px;font-size:1.1rem;font-weight:700;}
    .medal.ouro{color:#ffd700;}
    .medal.prata{color:#b0b0b0;}
    .medal.bronze{color:#bc6c25;}
    .card-nome{font-size:1.2rem;font-weight:800;margin-top:28px;}
    .card-pontos{font-size:1.1rem;margin-top:6px;color:#ffd700;}
    .card-selos{margin-top:14px;display:flex;gap:7px;flex-wrap:wrap;}
    .card-selo{padding:4px 12px;border-radius:13px;font-size:0.93rem;font-weight:700;}
    .card-selo.ouro{background:#ffd700;color:#333;}
    .card-selo.prata{background:#b0b0b0;color:#333;}
    .card-selo.destaque{background:#7209b7;color:#fff;}
    .card-selo{background:#7fffd4;color:#222;}
    @media(max-width:800px){
      .cards{flex-direction:column;align-items:center;}
    }
  </style>
</head>
<body>
  <div class="ranking-box">
    <h1>MELHORES DESEMPENHOS AGUIAR 40+</h1>
    <div id="rankingCards" class="cards"></div>
    <!-- ...restante da tabela/lista... -->
  </div>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAMf0Z5_a1DufNRCTHGPGC6ZBE9T2-tYAU",
      authDomain: "clube-aguiar-live.firebaseapp.com",
      projectId: "clube-aguiar-live",
      storageBucket: "clube-aguiar-live.firebasestorage.app",
      messagingSenderId: "694025911850",
      appId: "1:694025911850:web:5f0c6117dbc60b15118d53"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    function medalType(idx) {
      if(idx===0) return {txt:'ðŸ† OURO',cls:'ouro'};
      if(idx===1) return {txt:'ðŸ¥ˆ PRATA',cls:'prata'};
      if(idx===2) return {txt:'ðŸ¥‰ BRONZE',cls:'bronze'};
      return {txt:'',cls:''};
    }
    function seloClass(selo) {
      if(selo==='Ouro') return 'ouro';
      if(selo==='Prata') return 'prata';
      if(selo==='Destaque') return 'destaque';
      return '';
    }

    async function renderRanking() {
      const snap = await db.collection("usuarios").orderBy("pontos","desc").get();
      let alunas = [];
      snap.forEach(doc => {
        const d = doc.data();
        alunas.push({
          nome: d.nome,
          pontos: d.pontos ?? 0,
          selos: Array.isArray(d.selos) ? d.selos : []
        });
      });
      // Top 3 cards
      let html = "";
      for(let i=0;i<3;i++) {
        const a = alunas[i];
        if(!a) continue;
        const medal = medalType(i);
        html += `<div class="card">
          <div class="medal ${medal.cls}">${medal.txt}</div>
          <div class="card-nome">${a.nome}</div>
          <div class="card-pontos">${a.pontos} pts</div>
          <div class="card-selos">
            ${a.selos.map(s=>`<span class="card-selo ${seloClass(s)}">${s}</span>`).join('')}
          </div>
        </div>`;
      }
      document.getElementById("rankingCards").innerHTML = html;
      // ... Aqui vocÃª pode renderizar a tabela/lista de todas as alunas, se quiser ...
    }
    renderRanking();
  </script>
</body>
</html>
